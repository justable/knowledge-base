# 字符编码集

> [推荐阅读](https://www.cnblogs.com/shanguanghui/p/3664939.html)

## 字符编码集和编码规则

- 字符编码集：为每一个「字符」分配一个唯一的 ID，比如 ASCII 码和 Unicode 码。
- 编码规则：将「码位」转换为字节序列的规则，比如 utf-8,utf-16,utf-32 都是对应 Unicode 码的编码规则。

## ASCII 码（字符编码集）

> iso-8859-1 是 ASCII 码的扩充，但依然是单字节编码集。

ASCII 码表示了英语字符与二进制位之间的关系，**占用一个字节**，其中使用后 7 位（0~127）二进制数（剩下的 1 位二进制为 0）来表示所有的大写和小写字母、数字 0 到 9、标点符号，128~256 个字符为扩展字符。

缺点：ASCII 码只能表示英文字符。

## GB2312,GBK,GB18030（字符编码集）

都是针对中文的编码集，继承了 ASCII 码前 127 位（半角），去除了 ASCII 码 127 位之后的特殊字符，**中文占用两个字节，英文占用一个字节**。

## Unicode 码（字符编码集）

Unicode 码其实是 ASCII 码的扩充，**占用两个字节**，统一了世界上的所有字符。具体实现的编码规则有 utf-8,utf-16,utf-32。

缺点：无法区分 Unicode 码和 ASCII 码，即如何判断网络中传输的两个字节代表一个 Unicode 码还是两个 ASCII 码？还有就是对于只需一个字节就可表示的英文字母来说造成了存储资源的浪费。

## utf-8（编码规则）

是 Unicode 码的具体编码实现，它是一种变长的编码方式，可以理解为存储数据格式，**中文占用三个字节，英文占用一个字节**，从 Unicode 码到 utf-8 并不是直接的对应，而是要过一些算法和规则来转换。

## 总结

纵观各种字符编码集的诞生，其实反映了计算机在全世界的普及程度。最开始是使用英文的国家制定了 ASCII 码，之后各国都针对自己的语言文字制定了编码集，比如中国的 GBK。最终为了统一又制定了全世界通用的 Unicode 码，但发现 Unicode 码在网络传输上有着众多缺陷，因此又诞生了 utf-8,utf-16 等。

## FAQ

### 字符编码格式和文件编码格式

像上面提到的 ASCII 码和 utf-8 都属于字符编码格式，n 位二进制数可以组合成 2 的 n 次方个不同的码组，给每个码组规定一个字符，这就叫做字符编码，或称为文本编码。

计算机上的任何文件最底层都是二进制格式的，在软件层面又产生了各种各样的文件格式，比如音频文件、图片、word 文档等等，换句话说，不同的文件格式决定了软件用何种规则来解析二进制数据。如果记事本试图打开一张图片则会显示乱码，这是因为记事本试图使用字符编码来解析图片的二进制数据了。
